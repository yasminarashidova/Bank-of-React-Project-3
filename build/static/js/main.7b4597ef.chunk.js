(this["webpackJsonpbank-of-react"]=this["webpackJsonpbank-of-react"]||[]).push([[0],{15:function(e,t,a){e.exports=a(29)},20:function(e,t,a){},29:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),s=a.n(c),l=(a(20),a(3)),i=a(1);class o extends n.Component{render(){return r.a.createElement("div",null,"Balance: ",this.props.accountBalance)}}var u=o;class m extends n.Component{render(){return r.a.createElement("div",null,r.a.createElement("img",{src:"https://picsum.photos/200/200",alt:"bank"}),r.a.createElement("h1",null,"Bank of React"),r.a.createElement(l.b,{to:"/userProfile"},"User Profile"),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/login"},"Login"),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/credits"},"Credits (to be implemented in the Assignment)"),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/debits"},"Debits (to be implemented in the Assignment)"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(u,{accountBalance:this.props.accountBalance}))}}var d=m;class h extends n.Component{render(){return r.a.createElement("div",null,r.a.createElement("h1",null,"User Profile"),r.a.createElement("div",null,"Username: ",this.props.userName),r.a.createElement("div",null,"Member Since: ",this.props.memberSince),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/"},"Return to Home"))}}var p=h;class b extends n.Component{constructor(e){super(e),this.handleChange=e=>{const t={...this.state.user};t.userName=e.target.value,this.setState({user:t})},this.handleSubmit=e=>{e.preventDefault(),this.props.mockLogIn(this.state.user),this.setState({redirect:!0})},this.state={user:{userName:this.props.user.userName,password:""},redirect:!1}}render(){return this.state.redirect?r.a.createElement(i.a,{to:"/userProfile"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"User Name"),r.a.createElement("input",{type:"text",name:"userName",defaultValue:this.props.user.userName,onChange:this.handleChange})),r.a.createElement("div",null,r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",name:"password"})),r.a.createElement("button",null,"Log In")),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/"},"Return to Home"))}}var E=b;class g extends n.Component{constructor(){super(),this.creditsView=()=>{const{credits:e}=this.props;return e.map(e=>{let t=e.date.slice(0,10);return r.a.createElement("li",{key:e.id},e.amount," ",e.description," ",t)})},this.handleChange=e=>{const t={...this.state.credit};t[e.target.name]=e.target.value,t.date=(new Date).toISOString(),this.setState({credit:t})},this.handleSubmit=e=>{e.preventDefault(),this.props.addCredits(this.state.credit)},this.state={credit:{id:"",amount:0,description:"",date:""}}}render(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Credits"),r.a.createElement(u,{accountBalance:this.props.accountBalance}),r.a.createElement("br",null),this.creditsView(),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("input",{type:"text",name:"description",placeholder:"Description",style:{width:"350px"},onChange:this.handleChange,required:!0}),r.a.createElement("br",null),r.a.createElement("input",{type:"number",pattern:"^\\d+(\\.\\d{1,2})?$",name:"amount",placeholder:"Amount in $",title:"Please enter the $ amount up to two decimal places.",onChange:this.handleChange,required:!0}),r.a.createElement("button",{type:"submit"},"Add Credit")),r.a.createElement("br",null),r.a.createElement(l.b,{to:"/"},"Return to Home"))}}var v=g;var S=e=>{const{debits:t,accountBalance:a}=e,[c,s]=Object(n.useState)({description:"",amount:""}),i=e=>{const{name:t,value:a}=e.target;s({...c,[t]:a})};return r.a.createElement("div",null,r.a.createElement("h1",null,"Debits"),(()=>{const{debits:t}=e;return t.map(e=>{let t=e.date.slice(0,10);return r.a.createElement("li",{key:e.id},"(",e.id,") ",e.amount.toFixed(2)," ",e.description," ",t," ")})})(),r.a.createElement("form",{onSubmit:a=>{a.preventDefault();const{description:n,amount:r}=c;if(n&&r){const a={id:t.length+1,description:n,amount:parseFloat(r),date:(new Date).toISOString().slice(0,10)};e.addDebit(a),s({description:"",amount:""})}}},r.a.createElement("label",{htmlFor:"description"},"Description: "),r.a.createElement("input",{type:"text",name:"description",value:c.description,onChange:i,required:!0}),r.a.createElement("br",null),r.a.createElement("label",{htmlFor:"description"},"Amount: "),r.a.createElement("input",{type:"number",name:"amount",value:c.amount,onChange:i,required:!0}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Add Debit")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"Account Balance: $",a.toFixed(2)),r.a.createElement(l.b,{to:"/"},"Return to Home"))};class C extends n.Component{constructor(){super(),this.addCredits=e=>{let t=[...this.state.creditList],a={amount:e.amount,description:e.description,date:e.date};t.push(a);let n=Number(this.state.accountBalance)+Number(e.amount);this.setState({creditList:t,accountBalance:n}),console.log(t)},this.addDebit=e=>{this.setState(t=>({debitList:[...t.debitList,e],accountBalance:t.accountBalance-e.amount}))},this.mockLogIn=e=>{const t={...this.state.currentUser};t.userName=e.userName,this.setState({currentUser:t})},this.state={accountBalance:0,creditList:[],debitList:[],currentUser:{userName:"Joe Smith",memberSince:"11/22/99"}}}componentDidMount(){fetch("https://johnnylaicode.github.io/api/credits.json").then(e=>e.json()).then(e=>{const t=e.reduce((e,t)=>e+t.amount,0);this.setState({creditList:e,accountBalance:t})}).catch(e=>{console.error("Error fetching credits data:",e)}),fetch("https://johnnylaicode.github.io/api/debits.json").then(e=>e.json()).then(e=>{const t=e.reduce((e,t)=>e+t.amount,0);this.setState({debitList:e,accountBalance:this.state.accountBalance-t})}).catch(e=>{console.error("cant fetch debit data:",e)})}render(){return r.a.createElement(l.a,{basename:"/bank-of-react-starter-code"},r.a.createElement("div",null,r.a.createElement(i.b,{exact:!0,path:"/",render:()=>r.a.createElement(d,{accountBalance:this.state.accountBalance})}),r.a.createElement(i.b,{exact:!0,path:"/userProfile",render:()=>r.a.createElement(p,{userName:this.state.currentUser.userName,memberSince:this.state.currentUser.memberSince})}),r.a.createElement(i.b,{exact:!0,path:"/login",render:()=>r.a.createElement(E,{user:this.state.currentUser,mockLogIn:this.mockLogIn})}),r.a.createElement(i.b,{exact:!0,path:"/credits",render:()=>r.a.createElement(v,{credits:this.state.creditList,accountBalance:this.state.accountBalance,addCredits:this.addCredits})}),r.a.createElement(i.b,{exact:!0,path:"/debits",render:()=>r.a.createElement(S,{debits:this.state.debitList,accountBalance:this.state.accountBalance,addDebit:this.addDebit})})))}}var f=C;var B=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,30)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:c,getTTFB:s}=t;a(e),n(e),r(e),c(e),s(e)})};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),B()}},[[15,1,2]]]);
//# sourceMappingURL=main.7b4597ef.chunk.js.map